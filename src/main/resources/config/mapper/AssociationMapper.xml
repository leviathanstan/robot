<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.robot.dao.AssociationDao">

    <resultMap id="robotNews" type="com.robot.entity.RobotNews">
        <id column="id" property="id"/>
        <result column="url" property="url"/>
        <result column="title" property="title"/>
        <result column="post_date" property="postDate"/>
        <result column="content" property="content"/>
    </resultMap>

    <select id="getRobotNewsInf" resultMap="robotNews">
        select * from association_news where id = #{id}
    </select>
    <select id="getRobotNewsTop" resultMap="robotNews">
        select id,title,post_date from association_news order by post_date desc limit 13
    </select>

    <select id="findNews" resultMap="robotNews">
        select * from association_news where 1=1
        <if test="title!=null and title.trim().length()>0">
            and locate(#{title},title)>0
        </if>
    </select>

    <resultMap id="associationMember" type="com.robot.entity.Member">
       <id property="id" column="id"/>
        <result property="memberName" column="name"/>
        <result property="positionId" column="position_num"/>
        <result property="joinTime" column="post_date"/>
        <result property="introduction" column="content"/>
    </resultMap>

    <select id="getIndexMember" resultMap="associationMember">
        select id, name, position_num,post_date from member_show where position_num='1' or position_num='2';
    </select>

    <select id="findMember" resultMap="associationMember">
        select id, name, position_num,post_date from member_show order by post_date desc
    </select>

    <select id="getMemberInfo" resultMap="associationMember" parameterType="java.lang.Integer">
        select * from member_show where id=#{id};
    </select>

    <resultMap id="noticeMap" type="com.robot.entity.Notice">
        <id property="id" column="id"/>
        <result property="title" column="title"/>
        <result property="postDate" column="post_date"/>
        <result property="content" column="content"/>
    </resultMap>

    <select id="getNotice" resultMap="noticeMap">
      select id,title,post_date from notice_announcement order by post_date desc limit 13
    </select>

    <select id="getNoticeInfo" parameterType="String" resultMap="noticeMap">
      select * from notice_announcement where id=#{id}
    </select>

    <select id="findNotice" resultMap="noticeMap">
      select id,title,post_date,content from notice_announcement where 1=1
      <if test="title!=null and title.trim().length()>0">
        and locate(#{title},title)>0
      </if>
        order by post_date desc
    </select>

</mapper>